{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require('react-dom');\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _class = require('../_util/class');\n\nvar _CustomKeyboard = require('./CustomKeyboard');\n\nvar _CustomKeyboard2 = _interopRequireDefault(_CustomKeyboard);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _exenv = require('../_util/exenv');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar customNumberKeyboard = null;\nvar IS_REACT_16 = !!ReactDOM.createPortal;\n\nfunction getBodyScrollTop() {\n  var el = document.scrollingElement || document.documentElement;\n  return el && el.scrollTop || 0;\n}\n\nfunction setBodyScrollTop(scrollTop) {\n  var el = document.scrollingElement || document.documentElement;\n  el.scrollTop = scrollTop;\n}\n\nvar NumberInput = function (_React$Component) {\n  (0, _inherits3['default'])(NumberInput, _React$Component);\n\n  function NumberInput(props) {\n    (0, _classCallCheck3['default'])(this, NumberInput);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (NumberInput.__proto__ || Object.getPrototypeOf(NumberInput)).call(this, props));\n\n    _this.onChange = function (value) {\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: value.target.value\n        });\n      }\n\n      _this.props.onChange(value);\n    };\n\n    _this.onConfirm = function (value) {\n      _this.props.onVirtualKeyboardConfirm(value);\n    };\n\n    _this.addBlurListener = function () {\n      document.addEventListener('click', _this.doBlur, false);\n    };\n\n    _this.removeBlurListener = function () {\n      document.removeEventListener('click', _this.doBlur, false);\n    };\n\n    _this.saveRef = function (el) {\n      if (IS_REACT_16 && el) {\n        customNumberKeyboard = el;\n      }\n    };\n\n    _this.doBlur = function (ev) {\n      var value = _this.state.value;\n\n      if (ev.target !== _this.inputRef) {\n        _this.onInputBlur(value);\n      }\n    };\n\n    _this.unLinkInput = function () {\n      if (customNumberKeyboard && customNumberKeyboard.antmKeyboard && customNumberKeyboard.linkedInput && customNumberKeyboard.linkedInput === _this) {\n        customNumberKeyboard.linkedInput = null;\n\n        if (_this.props.autoAdjustHeight) {\n          _this.getContainer().style.height = '0';\n        }\n\n        (0, _class.addClass)(customNumberKeyboard.antmKeyboard, _this.props.keyboardPrefixCls + '-wrapper-hide');\n      } // for unmount\n\n\n      _this.removeBlurListener();\n    };\n\n    _this.onInputBlur = function (value) {\n      if (IS_REACT_16) {\n        _this.keyBoard = null;\n      }\n\n      var focus = _this.state.focus;\n\n      if (focus) {\n        _this.setState({\n          focus: false\n        });\n\n        _this.props.onBlur(value);\n\n        setTimeout(function () {\n          _this.unLinkInput();\n        }, 50);\n      }\n    };\n\n    _this.onInputFocus = function () {\n      var value = _this.state.value;\n\n      _this.props.onFocus(value);\n\n      _this.setState({\n        focus: true\n      }, function () {\n        if (customNumberKeyboard) {\n          customNumberKeyboard.linkedInput = _this;\n\n          if (customNumberKeyboard.antmKeyboard) {\n            if (_this.props.autoAdjustHeight) {\n              var keyBoardHeight = customNumberKeyboard.antmKeyboard.offsetHeight;\n              _this.getContainer().style.height = keyBoardHeight + 'px';\n\n              if (_this.inputRef) {\n                var _this$inputRef$getBou = _this.inputRef.getBoundingClientRect(),\n                    bottom = _this$inputRef$getBou.bottom;\n\n                var clientHeight = window.innerHeight; // 计算输入框距离视窗的底部距离\n\n                var distance = clientHeight - bottom;\n\n                if (distance < keyBoardHeight) {\n                  setBodyScrollTop(getBodyScrollTop() + keyBoardHeight - distance);\n                }\n              }\n            }\n\n            (0, _class.removeClass)(customNumberKeyboard.antmKeyboard, _this.props.keyboardPrefixCls + '-wrapper-hide');\n          }\n\n          customNumberKeyboard.confirmDisabled = value === '';\n\n          if (customNumberKeyboard.confirmKeyboardItem) {\n            if (value === '') {\n              (0, _class.addClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n            } else {\n              (0, _class.removeClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n            }\n          }\n        }\n      });\n    };\n\n    _this.onKeyboardClick = function (KeyboardItemValue) {\n      var maxLength = _this.props.maxLength;\n      var value = _this.state.value; // tslint:disable-next-line:no-this-assignment\n\n      var onChange = _this.onChange;\n      var valueAfterChange = void 0; // 删除键\n\n      if (KeyboardItemValue === 'delete') {\n        valueAfterChange = value.substring(0, value.length - 1);\n        onChange({\n          target: {\n            value: valueAfterChange\n          }\n        }); // 确认键\n      } else if (KeyboardItemValue === 'confirm') {\n        valueAfterChange = value;\n        onChange({\n          target: {\n            value: valueAfterChange\n          }\n        });\n\n        _this.onInputBlur(value);\n\n        _this.onConfirm(value); // 收起键\n\n      } else if (KeyboardItemValue === 'hide') {\n        valueAfterChange = value;\n\n        _this.onInputBlur(valueAfterChange);\n      } else {\n        if (maxLength !== undefined && +maxLength >= 0 && (value + KeyboardItemValue).length > maxLength) {\n          valueAfterChange = (value + KeyboardItemValue).substr(0, maxLength);\n          onChange({\n            target: {\n              value: valueAfterChange\n            }\n          });\n        } else {\n          valueAfterChange = value + KeyboardItemValue;\n          onChange({\n            target: {\n              value: valueAfterChange\n            }\n          });\n        }\n      }\n\n      if (customNumberKeyboard) {\n        customNumberKeyboard.confirmDisabled = valueAfterChange === '';\n\n        if (customNumberKeyboard.confirmKeyboardItem) {\n          if (valueAfterChange === '') {\n            (0, _class.addClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n          } else {\n            (0, _class.removeClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n          }\n        }\n      }\n    };\n\n    _this.onFakeInputClick = function () {\n      _this.focus();\n    };\n\n    _this.focus = function () {\n      // this focus may invocked by users page button click, so this click may trigger blurEventListener at the same time\n      _this.renderCustomKeyboard();\n\n      _this.removeBlurListener();\n\n      var focus = _this.state.focus;\n\n      if (!focus) {\n        _this.onInputFocus();\n      }\n\n      setTimeout(function () {\n        _this.addBlurListener();\n      }, 50);\n    };\n\n    _this.state = {\n      focus: false,\n      value: props.value || ''\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(NumberInput, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // focus:true unmount 不能触发 blur\n      if (this.state.focus) {\n        this.props.onBlur(this.state.value);\n      }\n\n      this.unLinkInput();\n    }\n  }, {\n    key: 'getComponent',\n    value: function getComponent() {\n      var _props = this.props,\n          confirmLabel = _props.confirmLabel,\n          backspaceLabel = _props.backspaceLabel,\n          cancelKeyboardLabel = _props.cancelKeyboardLabel,\n          keyboardPrefixCls = _props.keyboardPrefixCls,\n          moneyKeyboardWrapProps = _props.moneyKeyboardWrapProps,\n          moneyKeyboardHeader = _props.moneyKeyboardHeader,\n          disabledKeys = _props.disabledKeys;\n      return React.createElement(_CustomKeyboard2['default'], {\n        ref: this.saveRef,\n        onClick: this.onKeyboardClick,\n        prefixCls: keyboardPrefixCls,\n        confirmLabel: confirmLabel,\n        backspaceLabel: backspaceLabel,\n        cancelKeyboardLabel: cancelKeyboardLabel,\n        wrapProps: moneyKeyboardWrapProps,\n        header: moneyKeyboardHeader,\n        disabledKeys: disabledKeys\n      });\n    }\n  }, {\n    key: 'getContainer',\n    value: function getContainer() {\n      var keyboardPrefixCls = this.props.keyboardPrefixCls;\n      var container = document.querySelector('#' + keyboardPrefixCls + '-container');\n\n      if (!container) {\n        container = document.createElement('div');\n        container.setAttribute('id', keyboardPrefixCls + '-container');\n        document.body.appendChild(container);\n      }\n\n      this.container = container;\n      return this.container;\n    }\n  }, {\n    key: 'renderCustomKeyboard',\n    value: function renderCustomKeyboard() {\n      var _this2 = this;\n\n      if (IS_REACT_16) {\n        this.keyBoard = React.createElement(_Portal2['default'], {\n          getContainer: function getContainer() {\n            return _this2.getContainer();\n          }\n        }, this.getComponent());\n      } else {\n        customNumberKeyboard = ReactDOM.unstable_renderSubtreeIntoContainer(this, this.getComponent(), this.getContainer());\n      }\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal() {\n      if (!IS_REACT_16 || !_exenv.canUseDOM) {\n        return null;\n      }\n\n      return this.keyBoard;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          disabled = _props2.disabled,\n          editable = _props2.editable,\n          moneyKeyboardAlign = _props2.moneyKeyboardAlign;\n      var _state = this.state,\n          focus = _state.focus,\n          value = _state.value;\n      var preventKeyboard = disabled || !editable;\n      var fakeInputCls = (0, _classnames2['default'])('fake-input', {\n        focus: focus,\n        'fake-input-disabled': disabled\n      });\n      var fakeInputContainerCls = (0, _classnames2['default'])('fake-input-container', {\n        'fake-input-container-left': moneyKeyboardAlign === 'left'\n      });\n      return React.createElement('div', {\n        className: fakeInputContainerCls\n      }, value === '' && // tslint:disable-next-line:jsx-no-multiline-js\n      React.createElement('div', {\n        className: 'fake-input-placeholder'\n      }, placeholder), React.createElement('div', {\n        role: 'textbox',\n        'aria-label': value || placeholder,\n        className: fakeInputCls,\n        ref: function ref(el) {\n          return _this3.inputRef = el;\n        },\n        onClick: preventKeyboard ? function () {} : this.onFakeInputClick\n      }, value), this.renderPortal());\n    }\n  }]);\n  return NumberInput;\n}(React.Component);\n\nNumberInput.defaultProps = {\n  onChange: function onChange() {},\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onVirtualKeyboardConfirm: function onVirtualKeyboardConfirm() {},\n  placeholder: '',\n  disabled: false,\n  editable: true,\n  prefixCls: 'am-input',\n  keyboardPrefixCls: 'am-number-keyboard',\n  autoAdjustHeight: false\n};\nexports['default'] = NumberInput;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["F:/百度云下载/React/hkzf/haokezufang/node_modules/antd-mobile/lib/input-item/CustomInput.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_classnames","_classnames2","_react","React","_interopRequireWildcard","_reactDom","ReactDOM","_class","_CustomKeyboard","_CustomKeyboard2","_Portal","_Portal2","_exenv","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","customNumberKeyboard","IS_REACT_16","createPortal","getBodyScrollTop","el","document","scrollingElement","documentElement","scrollTop","setBodyScrollTop","NumberInput","_React$Component","props","_this","__proto__","getPrototypeOf","onChange","setState","target","onConfirm","onVirtualKeyboardConfirm","addBlurListener","addEventListener","doBlur","removeBlurListener","removeEventListener","saveRef","ev","state","inputRef","onInputBlur","unLinkInput","antmKeyboard","linkedInput","autoAdjustHeight","getContainer","style","height","addClass","keyboardPrefixCls","keyBoard","focus","onBlur","setTimeout","onInputFocus","onFocus","keyBoardHeight","offsetHeight","_this$inputRef$getBou","getBoundingClientRect","bottom","clientHeight","window","innerHeight","distance","removeClass","confirmDisabled","confirmKeyboardItem","onKeyboardClick","KeyboardItemValue","maxLength","valueAfterChange","substring","length","undefined","substr","onFakeInputClick","renderCustomKeyboard","componentWillReceiveProps","nextProps","componentWillUnmount","getComponent","_props","confirmLabel","backspaceLabel","cancelKeyboardLabel","moneyKeyboardWrapProps","moneyKeyboardHeader","disabledKeys","createElement","ref","onClick","prefixCls","wrapProps","header","container","querySelector","setAttribute","body","appendChild","_this2","unstable_renderSubtreeIntoContainer","renderPortal","canUseDOM","render","_this3","_props2","placeholder","disabled","editable","moneyKeyboardAlign","_state","preventKeyboard","fakeInputCls","fakeInputContainerCls","className","role","Component","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require('react-dom');\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _class = require('../_util/class');\n\nvar _CustomKeyboard = require('./CustomKeyboard');\n\nvar _CustomKeyboard2 = _interopRequireDefault(_CustomKeyboard);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _exenv = require('../_util/exenv');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar customNumberKeyboard = null;\nvar IS_REACT_16 = !!ReactDOM.createPortal;\nfunction getBodyScrollTop() {\n    var el = document.scrollingElement || document.documentElement;\n    return el && el.scrollTop || 0;\n}\nfunction setBodyScrollTop(scrollTop) {\n    var el = document.scrollingElement || document.documentElement;\n    el.scrollTop = scrollTop;\n}\n\nvar NumberInput = function (_React$Component) {\n    (0, _inherits3['default'])(NumberInput, _React$Component);\n\n    function NumberInput(props) {\n        (0, _classCallCheck3['default'])(this, NumberInput);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (NumberInput.__proto__ || Object.getPrototypeOf(NumberInput)).call(this, props));\n\n        _this.onChange = function (value) {\n            if (!('value' in _this.props)) {\n                _this.setState({ value: value.target.value });\n            }\n            _this.props.onChange(value);\n        };\n        _this.onConfirm = function (value) {\n            _this.props.onVirtualKeyboardConfirm(value);\n        };\n        _this.addBlurListener = function () {\n            document.addEventListener('click', _this.doBlur, false);\n        };\n        _this.removeBlurListener = function () {\n            document.removeEventListener('click', _this.doBlur, false);\n        };\n        _this.saveRef = function (el) {\n            if (IS_REACT_16 && el) {\n                customNumberKeyboard = el;\n            }\n        };\n        _this.doBlur = function (ev) {\n            var value = _this.state.value;\n\n            if (ev.target !== _this.inputRef) {\n                _this.onInputBlur(value);\n            }\n        };\n        _this.unLinkInput = function () {\n            if (customNumberKeyboard && customNumberKeyboard.antmKeyboard && customNumberKeyboard.linkedInput && customNumberKeyboard.linkedInput === _this) {\n                customNumberKeyboard.linkedInput = null;\n                if (_this.props.autoAdjustHeight) {\n                    _this.getContainer().style.height = '0';\n                }\n                (0, _class.addClass)(customNumberKeyboard.antmKeyboard, _this.props.keyboardPrefixCls + '-wrapper-hide');\n            }\n            // for unmount\n            _this.removeBlurListener();\n        };\n        _this.onInputBlur = function (value) {\n            if (IS_REACT_16) {\n                _this.keyBoard = null;\n            }\n            var focus = _this.state.focus;\n\n            if (focus) {\n                _this.setState({\n                    focus: false\n                });\n                _this.props.onBlur(value);\n                setTimeout(function () {\n                    _this.unLinkInput();\n                }, 50);\n            }\n        };\n        _this.onInputFocus = function () {\n            var value = _this.state.value;\n\n            _this.props.onFocus(value);\n            _this.setState({\n                focus: true\n            }, function () {\n                if (customNumberKeyboard) {\n                    customNumberKeyboard.linkedInput = _this;\n                    if (customNumberKeyboard.antmKeyboard) {\n                        if (_this.props.autoAdjustHeight) {\n                            var keyBoardHeight = customNumberKeyboard.antmKeyboard.offsetHeight;\n                            _this.getContainer().style.height = keyBoardHeight + 'px';\n                            if (_this.inputRef) {\n                                var _this$inputRef$getBou = _this.inputRef.getBoundingClientRect(),\n                                    bottom = _this$inputRef$getBou.bottom;\n\n                                var clientHeight = window.innerHeight;\n                                // 计算输入框距离视窗的底部距离\n                                var distance = clientHeight - bottom;\n                                if (distance < keyBoardHeight) {\n                                    setBodyScrollTop(getBodyScrollTop() + keyBoardHeight - distance);\n                                }\n                            }\n                        }\n                        (0, _class.removeClass)(customNumberKeyboard.antmKeyboard, _this.props.keyboardPrefixCls + '-wrapper-hide');\n                    }\n                    customNumberKeyboard.confirmDisabled = value === '';\n                    if (customNumberKeyboard.confirmKeyboardItem) {\n                        if (value === '') {\n                            (0, _class.addClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n                        } else {\n                            (0, _class.removeClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n                        }\n                    }\n                }\n            });\n        };\n        _this.onKeyboardClick = function (KeyboardItemValue) {\n            var maxLength = _this.props.maxLength;\n            var value = _this.state.value;\n            // tslint:disable-next-line:no-this-assignment\n\n            var onChange = _this.onChange;\n\n            var valueAfterChange = void 0;\n            // 删除键\n            if (KeyboardItemValue === 'delete') {\n                valueAfterChange = value.substring(0, value.length - 1);\n                onChange({ target: { value: valueAfterChange } });\n                // 确认键\n            } else if (KeyboardItemValue === 'confirm') {\n                valueAfterChange = value;\n                onChange({ target: { value: valueAfterChange } });\n                _this.onInputBlur(value);\n                _this.onConfirm(value);\n                // 收起键\n            } else if (KeyboardItemValue === 'hide') {\n                valueAfterChange = value;\n                _this.onInputBlur(valueAfterChange);\n            } else {\n                if (maxLength !== undefined && +maxLength >= 0 && (value + KeyboardItemValue).length > maxLength) {\n                    valueAfterChange = (value + KeyboardItemValue).substr(0, maxLength);\n                    onChange({ target: { value: valueAfterChange } });\n                } else {\n                    valueAfterChange = value + KeyboardItemValue;\n                    onChange({ target: { value: valueAfterChange } });\n                }\n            }\n            if (customNumberKeyboard) {\n                customNumberKeyboard.confirmDisabled = valueAfterChange === '';\n                if (customNumberKeyboard.confirmKeyboardItem) {\n                    if (valueAfterChange === '') {\n                        (0, _class.addClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n                    } else {\n                        (0, _class.removeClass)(customNumberKeyboard.confirmKeyboardItem, _this.props.keyboardPrefixCls + '-item-disabled');\n                    }\n                }\n            }\n        };\n        _this.onFakeInputClick = function () {\n            _this.focus();\n        };\n        _this.focus = function () {\n            // this focus may invocked by users page button click, so this click may trigger blurEventListener at the same time\n            _this.renderCustomKeyboard();\n            _this.removeBlurListener();\n            var focus = _this.state.focus;\n\n            if (!focus) {\n                _this.onInputFocus();\n            }\n            setTimeout(function () {\n                _this.addBlurListener();\n            }, 50);\n        };\n        _this.state = {\n            focus: false,\n            value: props.value || ''\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(NumberInput, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: nextProps.value\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            // focus:true unmount 不能触发 blur\n            if (this.state.focus) {\n                this.props.onBlur(this.state.value);\n            }\n            this.unLinkInput();\n        }\n    }, {\n        key: 'getComponent',\n        value: function getComponent() {\n            var _props = this.props,\n                confirmLabel = _props.confirmLabel,\n                backspaceLabel = _props.backspaceLabel,\n                cancelKeyboardLabel = _props.cancelKeyboardLabel,\n                keyboardPrefixCls = _props.keyboardPrefixCls,\n                moneyKeyboardWrapProps = _props.moneyKeyboardWrapProps,\n                moneyKeyboardHeader = _props.moneyKeyboardHeader,\n                disabledKeys = _props.disabledKeys;\n\n            return React.createElement(_CustomKeyboard2['default'], { ref: this.saveRef, onClick: this.onKeyboardClick, prefixCls: keyboardPrefixCls, confirmLabel: confirmLabel, backspaceLabel: backspaceLabel, cancelKeyboardLabel: cancelKeyboardLabel, wrapProps: moneyKeyboardWrapProps, header: moneyKeyboardHeader, disabledKeys: disabledKeys });\n        }\n    }, {\n        key: 'getContainer',\n        value: function getContainer() {\n            var keyboardPrefixCls = this.props.keyboardPrefixCls;\n\n            var container = document.querySelector('#' + keyboardPrefixCls + '-container');\n            if (!container) {\n                container = document.createElement('div');\n                container.setAttribute('id', keyboardPrefixCls + '-container');\n                document.body.appendChild(container);\n            }\n            this.container = container;\n            return this.container;\n        }\n    }, {\n        key: 'renderCustomKeyboard',\n        value: function renderCustomKeyboard() {\n            var _this2 = this;\n\n            if (IS_REACT_16) {\n                this.keyBoard = React.createElement(\n                    _Portal2['default'],\n                    { getContainer: function getContainer() {\n                            return _this2.getContainer();\n                        } },\n                    this.getComponent()\n                );\n            } else {\n                customNumberKeyboard = ReactDOM.unstable_renderSubtreeIntoContainer(this, this.getComponent(), this.getContainer());\n            }\n        }\n    }, {\n        key: 'renderPortal',\n        value: function renderPortal() {\n            if (!IS_REACT_16 || !_exenv.canUseDOM) {\n                return null;\n            }\n            return this.keyBoard;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var _props2 = this.props,\n                placeholder = _props2.placeholder,\n                disabled = _props2.disabled,\n                editable = _props2.editable,\n                moneyKeyboardAlign = _props2.moneyKeyboardAlign;\n            var _state = this.state,\n                focus = _state.focus,\n                value = _state.value;\n\n            var preventKeyboard = disabled || !editable;\n            var fakeInputCls = (0, _classnames2['default'])('fake-input', {\n                focus: focus,\n                'fake-input-disabled': disabled\n            });\n            var fakeInputContainerCls = (0, _classnames2['default'])('fake-input-container', {\n                'fake-input-container-left': moneyKeyboardAlign === 'left'\n            });\n            return React.createElement(\n                'div',\n                { className: fakeInputContainerCls },\n                value === '' &&\n                // tslint:disable-next-line:jsx-no-multiline-js\n                React.createElement(\n                    'div',\n                    { className: 'fake-input-placeholder' },\n                    placeholder\n                ),\n                React.createElement(\n                    'div',\n                    { role: 'textbox', 'aria-label': value || placeholder, className: fakeInputCls, ref: function ref(el) {\n                            return _this3.inputRef = el;\n                        }, onClick: preventKeyboard ? function () {} : this.onFakeInputClick },\n                    value\n                ),\n                this.renderPortal()\n            );\n        }\n    }]);\n    return NumberInput;\n}(React.Component);\n\nNumberInput.defaultProps = {\n    onChange: function onChange() {},\n    onFocus: function onFocus() {},\n    onBlur: function onBlur() {},\n    onVirtualKeyboardConfirm: function onVirtualKeyboardConfirm() {},\n    placeholder: '',\n    disabled: false,\n    editable: true,\n    prefixCls: 'am-input',\n    keyboardPrefixCls: 'am-number-keyboard',\n    autoAdjustHeight: false\n};\nexports['default'] = NumberInput;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}