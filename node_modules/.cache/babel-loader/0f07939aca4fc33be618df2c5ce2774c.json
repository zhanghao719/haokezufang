{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _flex = require('../flex');\n\nvar _flex2 = _interopRequireDefault(_flex);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n/* tslint:disable:no-bitwise */\n\n\nfunction noop() {}\n\nvar ImagePicker = function (_React$Component) {\n  (0, _inherits3['default'])(ImagePicker, _React$Component);\n\n  function ImagePicker() {\n    (0, _classCallCheck3['default'])(this, ImagePicker); // http://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (ImagePicker.__proto__ || Object.getPrototypeOf(ImagePicker)).apply(this, arguments));\n\n    _this.getOrientation = function (file, callback) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var view = new DataView(e.target.result);\n\n        if (view.getUint16(0, false) !== 0xffd8) {\n          return callback(-2);\n        }\n\n        var length = view.byteLength;\n        var offset = 2;\n\n        while (offset < length) {\n          var marker = view.getUint16(offset, false);\n          offset += 2;\n\n          if (marker === 0xffe1) {\n            var tmp = view.getUint32(offset += 2, false);\n\n            if (tmp !== 0x45786966) {\n              return callback(-1);\n            }\n\n            var little = view.getUint16(offset += 6, false) === 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            var tags = view.getUint16(offset, little);\n            offset += 2;\n\n            for (var i = 0; i < tags; i++) {\n              if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                return callback(view.getUint16(offset + i * 12 + 8, little));\n              }\n            }\n          } else if ((marker & 0xff00) !== 0xff00) {\n            break;\n          } else {\n            offset += view.getUint16(offset, false);\n          }\n        }\n\n        return callback(-1);\n      };\n\n      reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n    };\n\n    _this.getRotation = function () {\n      var orientation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var imgRotation = 0;\n\n      switch (orientation) {\n        case 3:\n          imgRotation = 180;\n          break;\n\n        case 6:\n          imgRotation = 90;\n          break;\n\n        case 8:\n          imgRotation = 270;\n          break;\n\n        default:\n      }\n\n      return imgRotation;\n    };\n\n    _this.removeImage = function (index) {\n      var newImages = [];\n      var _this$props$files = _this.props.files,\n          files = _this$props$files === undefined ? [] : _this$props$files;\n      files.forEach(function (image, idx) {\n        if (index !== idx) {\n          newImages.push(image);\n        }\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(newImages, 'remove', index);\n      }\n    };\n\n    _this.addImage = function (imgItem) {\n      var _this$props$files2 = _this.props.files,\n          files = _this$props$files2 === undefined ? [] : _this$props$files2;\n      var newImages = files.concat(imgItem);\n\n      if (_this.props.onChange) {\n        _this.props.onChange(newImages, 'add');\n      }\n    };\n\n    _this.onImageClick = function (index) {\n      if (_this.props.onImageClick) {\n        _this.props.onImageClick(index, _this.props.files);\n      }\n    };\n\n    _this.onFileChange = function () {\n      var fileSelectorEl = _this.fileSelectorInput;\n\n      if (fileSelectorEl && fileSelectorEl.files && fileSelectorEl.files.length) {\n        var files = fileSelectorEl.files;\n        var imageParsePromiseList = [];\n\n        for (var i = 0; i < files.length; i++) {\n          imageParsePromiseList.push(_this.parseFile(files[i], i));\n        }\n\n        Promise.all(imageParsePromiseList).then(function (imageItems) {\n          return _this.addImage(imageItems);\n        })['catch'](function (error) {\n          if (_this.props.onFail) {\n            _this.props.onFail(error);\n          }\n        });\n      }\n\n      if (fileSelectorEl) {\n        fileSelectorEl.value = '';\n      }\n    };\n\n    _this.parseFile = function (file, index) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          var dataURL = e.target.result;\n\n          if (!dataURL) {\n            reject('Fail to get the ' + index + ' image');\n            return;\n          }\n\n          var orientation = 1;\n\n          _this.getOrientation(file, function (res) {\n            // -2: not jpeg , -1: not defined\n            if (res > 0) {\n              orientation = res;\n            }\n\n            resolve({\n              url: dataURL,\n              orientation: orientation,\n              file: file\n            });\n          });\n        };\n\n        reader.readAsDataURL(file);\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass3['default'])(ImagePicker, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          style = _props.style,\n          className = _props.className,\n          _props$files = _props.files,\n          files = _props$files === undefined ? [] : _props$files,\n          selectable = _props.selectable,\n          onAddImageClick = _props.onAddImageClick,\n          multiple = _props.multiple,\n          accept = _props.accept,\n          capture = _props.capture,\n          disableDelete = _props.disableDelete;\n      var imgItemList = [];\n      var count = parseInt('' + this.props.length, 10);\n\n      if (count <= 0) {\n        count = 4;\n      }\n\n      var wrapCls = (0, _classnames2['default'])('' + prefixCls, className);\n      files.forEach(function (image, index) {\n        var imgStyle = {\n          backgroundImage: 'url(\"' + image.url + '\")',\n          transform: 'rotate(' + _this2.getRotation(image.orientation) + 'deg)'\n        };\n        var itemStyle = {};\n        imgItemList.push(React.createElement(_flex2['default'].Item, {\n          key: 'item-' + index,\n          style: itemStyle\n        }, React.createElement('div', {\n          key: index,\n          className: prefixCls + '-item'\n        }, !disableDelete && React.createElement('div', {\n          className: prefixCls + '-item-remove',\n          role: 'button',\n          'aria-label': 'Click and Remove this image' // tslint:disable-next-line:jsx-no-multiline-js\n          ,\n          onClick: function onClick() {\n            _this2.removeImage(index);\n          }\n        }), React.createElement('div', {\n          className: prefixCls + '-item-content',\n          role: 'button',\n          'aria-label': 'Image can be clicked' // tslint:disable-next-line:jsx-no-multiline-js\n          ,\n          onClick: function onClick() {\n            _this2.onImageClick(index);\n          },\n          style: imgStyle\n        }))));\n      });\n      var selectEl = React.createElement(_flex2['default'].Item, {\n        key: 'select'\n      }, React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-upload-btn-active'\n      }, React.createElement('div', {\n        className: prefixCls + '-item ' + prefixCls + '-upload-btn',\n        onClick: onAddImageClick,\n        role: 'button',\n        'aria-label': 'Choose and add image'\n      }, React.createElement('input', {\n        ref: function ref(input) {\n          if (input) {\n            _this2.fileSelectorInput = input;\n          }\n        },\n        type: 'file',\n        accept: accept // tslint:disable-next-line:jsx-no-multiline-js\n        ,\n        onChange: function onChange() {\n          _this2.onFileChange();\n        },\n        multiple: multiple,\n        capture: capture\n      }))));\n      var allEl = selectable ? imgItemList.concat([selectEl]) : imgItemList;\n      var length = allEl.length;\n\n      if (length !== 0 && length % count !== 0) {\n        var blankCount = count - length % count;\n        var fillBlankEl = [];\n\n        for (var i = 0; i < blankCount; i++) {\n          fillBlankEl.push(React.createElement(_flex2['default'].Item, {\n            key: 'blank-' + i\n          }));\n        }\n\n        allEl = allEl.concat(fillBlankEl);\n      }\n\n      var flexEl = [];\n\n      for (var _i = 0; _i < allEl.length / count; _i++) {\n        var rowEl = allEl.slice(_i * count, _i * count + count);\n        flexEl.push(rowEl);\n      }\n\n      var renderEl = flexEl.map(function (item, index) {\n        return React.createElement(_flex2['default'], {\n          key: 'flex-' + index\n        }, item);\n      });\n      return React.createElement('div', {\n        className: wrapCls,\n        style: style\n      }, React.createElement('div', {\n        className: prefixCls + '-list',\n        role: 'group'\n      }, renderEl));\n    }\n  }]);\n  return ImagePicker;\n}(React.Component);\n\nexports['default'] = ImagePicker;\nImagePicker.defaultProps = {\n  prefixCls: 'am-image-picker',\n  files: [],\n  onChange: noop,\n  onImageClick: noop,\n  onAddImageClick: noop,\n  onFail: noop,\n  selectable: true,\n  multiple: false,\n  accept: 'image/*',\n  length: 4,\n  disableDelete: false\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["F:/百度云下载/React/hkzf/haokezufang/node_modules/antd-mobile/lib/image-picker/index.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_classnames","_classnames2","_react","React","_interopRequireWildcard","_rmcFeedback","_rmcFeedback2","_flex","_flex2","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","noop","ImagePicker","_React$Component","_this","__proto__","getPrototypeOf","apply","arguments","getOrientation","file","callback","reader","FileReader","onload","e","view","DataView","target","result","getUint16","length","byteLength","offset","marker","tmp","getUint32","little","tags","i","readAsArrayBuffer","slice","getRotation","orientation","undefined","imgRotation","removeImage","index","newImages","_this$props$files","props","files","forEach","image","idx","push","onChange","addImage","imgItem","_this$props$files2","concat","onImageClick","onFileChange","fileSelectorEl","fileSelectorInput","imageParsePromiseList","parseFile","Promise","all","then","imageItems","error","onFail","resolve","reject","dataURL","res","url","readAsDataURL","render","_this2","_props","prefixCls","style","className","_props$files","selectable","onAddImageClick","multiple","accept","capture","disableDelete","imgItemList","count","parseInt","wrapCls","imgStyle","backgroundImage","transform","itemStyle","createElement","Item","role","onClick","selectEl","activeClassName","ref","input","type","allEl","blankCount","fillBlankEl","flexEl","_i","rowEl","renderEl","map","item","Component","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _flex = require('../flex');\n\nvar _flex2 = _interopRequireDefault(_flex);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* tslint:disable:no-bitwise */\nfunction noop() {}\n\nvar ImagePicker = function (_React$Component) {\n    (0, _inherits3['default'])(ImagePicker, _React$Component);\n\n    function ImagePicker() {\n        (0, _classCallCheck3['default'])(this, ImagePicker);\n\n        // http://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (ImagePicker.__proto__ || Object.getPrototypeOf(ImagePicker)).apply(this, arguments));\n\n        _this.getOrientation = function (file, callback) {\n            var reader = new FileReader();\n            reader.onload = function (e) {\n                var view = new DataView(e.target.result);\n                if (view.getUint16(0, false) !== 0xffd8) {\n                    return callback(-2);\n                }\n                var length = view.byteLength;\n                var offset = 2;\n                while (offset < length) {\n                    var marker = view.getUint16(offset, false);\n                    offset += 2;\n                    if (marker === 0xffe1) {\n                        var tmp = view.getUint32(offset += 2, false);\n                        if (tmp !== 0x45786966) {\n                            return callback(-1);\n                        }\n                        var little = view.getUint16(offset += 6, false) === 0x4949;\n                        offset += view.getUint32(offset + 4, little);\n                        var tags = view.getUint16(offset, little);\n                        offset += 2;\n                        for (var i = 0; i < tags; i++) {\n                            if (view.getUint16(offset + i * 12, little) === 0x0112) {\n                                return callback(view.getUint16(offset + i * 12 + 8, little));\n                            }\n                        }\n                    } else if ((marker & 0xff00) !== 0xff00) {\n                        break;\n                    } else {\n                        offset += view.getUint16(offset, false);\n                    }\n                }\n                return callback(-1);\n            };\n            reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n        };\n        _this.getRotation = function () {\n            var orientation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n            var imgRotation = 0;\n            switch (orientation) {\n                case 3:\n                    imgRotation = 180;\n                    break;\n                case 6:\n                    imgRotation = 90;\n                    break;\n                case 8:\n                    imgRotation = 270;\n                    break;\n                default:\n            }\n            return imgRotation;\n        };\n        _this.removeImage = function (index) {\n            var newImages = [];\n            var _this$props$files = _this.props.files,\n                files = _this$props$files === undefined ? [] : _this$props$files;\n\n            files.forEach(function (image, idx) {\n                if (index !== idx) {\n                    newImages.push(image);\n                }\n            });\n            if (_this.props.onChange) {\n                _this.props.onChange(newImages, 'remove', index);\n            }\n        };\n        _this.addImage = function (imgItem) {\n            var _this$props$files2 = _this.props.files,\n                files = _this$props$files2 === undefined ? [] : _this$props$files2;\n\n            var newImages = files.concat(imgItem);\n            if (_this.props.onChange) {\n                _this.props.onChange(newImages, 'add');\n            }\n        };\n        _this.onImageClick = function (index) {\n            if (_this.props.onImageClick) {\n                _this.props.onImageClick(index, _this.props.files);\n            }\n        };\n        _this.onFileChange = function () {\n            var fileSelectorEl = _this.fileSelectorInput;\n            if (fileSelectorEl && fileSelectorEl.files && fileSelectorEl.files.length) {\n                var files = fileSelectorEl.files;\n                var imageParsePromiseList = [];\n                for (var i = 0; i < files.length; i++) {\n                    imageParsePromiseList.push(_this.parseFile(files[i], i));\n                }\n                Promise.all(imageParsePromiseList).then(function (imageItems) {\n                    return _this.addImage(imageItems);\n                })['catch'](function (error) {\n                    if (_this.props.onFail) {\n                        _this.props.onFail(error);\n                    }\n                });\n            }\n            if (fileSelectorEl) {\n                fileSelectorEl.value = '';\n            }\n        };\n        _this.parseFile = function (file, index) {\n            return new Promise(function (resolve, reject) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                    var dataURL = e.target.result;\n                    if (!dataURL) {\n                        reject('Fail to get the ' + index + ' image');\n                        return;\n                    }\n                    var orientation = 1;\n                    _this.getOrientation(file, function (res) {\n                        // -2: not jpeg , -1: not defined\n                        if (res > 0) {\n                            orientation = res;\n                        }\n                        resolve({\n                            url: dataURL,\n                            orientation: orientation,\n                            file: file\n                        });\n                    });\n                };\n                reader.readAsDataURL(file);\n            });\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(ImagePicker, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                style = _props.style,\n                className = _props.className,\n                _props$files = _props.files,\n                files = _props$files === undefined ? [] : _props$files,\n                selectable = _props.selectable,\n                onAddImageClick = _props.onAddImageClick,\n                multiple = _props.multiple,\n                accept = _props.accept,\n                capture = _props.capture,\n                disableDelete = _props.disableDelete;\n\n            var imgItemList = [];\n            var count = parseInt('' + this.props.length, 10);\n            if (count <= 0) {\n                count = 4;\n            }\n            var wrapCls = (0, _classnames2['default'])('' + prefixCls, className);\n            files.forEach(function (image, index) {\n                var imgStyle = {\n                    backgroundImage: 'url(\"' + image.url + '\")',\n                    transform: 'rotate(' + _this2.getRotation(image.orientation) + 'deg)'\n                };\n                var itemStyle = {};\n                imgItemList.push(React.createElement(\n                    _flex2['default'].Item,\n                    { key: 'item-' + index, style: itemStyle },\n                    React.createElement(\n                        'div',\n                        { key: index, className: prefixCls + '-item' },\n                        !disableDelete && React.createElement('div', { className: prefixCls + '-item-remove', role: 'button', 'aria-label': 'Click and Remove this image'\n                            // tslint:disable-next-line:jsx-no-multiline-js\n                            , onClick: function onClick() {\n                                _this2.removeImage(index);\n                            } }),\n                        React.createElement('div', { className: prefixCls + '-item-content', role: 'button', 'aria-label': 'Image can be clicked'\n                            // tslint:disable-next-line:jsx-no-multiline-js\n                            , onClick: function onClick() {\n                                _this2.onImageClick(index);\n                            }, style: imgStyle })\n                    )\n                ));\n            });\n            var selectEl = React.createElement(\n                _flex2['default'].Item,\n                { key: 'select' },\n                React.createElement(\n                    _rmcFeedback2['default'],\n                    { activeClassName: prefixCls + '-upload-btn-active' },\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-item ' + prefixCls + '-upload-btn', onClick: onAddImageClick, role: 'button', 'aria-label': 'Choose and add image' },\n                        React.createElement('input', { ref: function ref(input) {\n                                if (input) {\n                                    _this2.fileSelectorInput = input;\n                                }\n                            }, type: 'file', accept: accept\n                            // tslint:disable-next-line:jsx-no-multiline-js\n                            , onChange: function onChange() {\n                                _this2.onFileChange();\n                            }, multiple: multiple, capture: capture })\n                    )\n                )\n            );\n            var allEl = selectable ? imgItemList.concat([selectEl]) : imgItemList;\n            var length = allEl.length;\n            if (length !== 0 && length % count !== 0) {\n                var blankCount = count - length % count;\n                var fillBlankEl = [];\n                for (var i = 0; i < blankCount; i++) {\n                    fillBlankEl.push(React.createElement(_flex2['default'].Item, { key: 'blank-' + i }));\n                }\n                allEl = allEl.concat(fillBlankEl);\n            }\n            var flexEl = [];\n            for (var _i = 0; _i < allEl.length / count; _i++) {\n                var rowEl = allEl.slice(_i * count, _i * count + count);\n                flexEl.push(rowEl);\n            }\n            var renderEl = flexEl.map(function (item, index) {\n                return React.createElement(\n                    _flex2['default'],\n                    { key: 'flex-' + index },\n                    item\n                );\n            });\n            return React.createElement(\n                'div',\n                { className: wrapCls, style: style },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-list', role: 'group' },\n                    renderEl\n                )\n            );\n        }\n    }]);\n    return ImagePicker;\n}(React.Component);\n\nexports['default'] = ImagePicker;\n\nImagePicker.defaultProps = {\n    prefixCls: 'am-image-picker',\n    files: [],\n    onChange: noop,\n    onImageClick: noop,\n    onAddImageClick: noop,\n    onFail: noop,\n    selectable: true,\n    multiple: false,\n    accept: 'image/*',\n    length: 4,\n    disableDelete: false\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}