{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _arrayTreeFilter = require('array-tree-filter');\n\nvar _arrayTreeFilter2 = _interopRequireDefault(_arrayTreeFilter);\n\nvar _MultiPicker = require('rmc-picker/lib/MultiPicker');\n\nvar _MultiPicker2 = _interopRequireDefault(_MultiPicker);\n\nvar _Picker = require('rmc-picker/lib/Picker');\n\nvar _Picker2 = _interopRequireDefault(_Picker);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar Cascader = function (_React$Component) {\n  (0, _inherits3['default'])(Cascader, _React$Component);\n\n  function Cascader() {\n    (0, _classCallCheck3['default'])(this, Cascader);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n    _this.state = {\n      value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n    };\n\n    _this.onValueChange = function (value, index) {\n      var children = (0, _arrayTreeFilter2['default'])(_this.props.data, function (c, level) {\n        return level <= index && c.value === value[level];\n      });\n      var data = children[index];\n      var i = void 0;\n\n      for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n        data = data.children[0];\n        value[i] = data.value;\n      }\n\n      value.length = i;\n\n      _this.setState({\n        value: value\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Cascader, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: this.getValue(nextProps.data, nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue(d, val) {\n      var data = d || this.props.data;\n      var value = val || this.props.value || this.props.defaultValue;\n\n      if (!value || !value.length || value.indexOf(undefined) > -1) {\n        value = [];\n\n        for (var i = 0; i < this.props.cols; i++) {\n          if (data && data.length) {\n            value[i] = data[0].value;\n            data = data[0].children;\n          }\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: 'getCols',\n    value: function getCols() {\n      var _props = this.props,\n          data = _props.data,\n          cols = _props.cols,\n          pickerPrefixCls = _props.pickerPrefixCls,\n          disabled = _props.disabled,\n          pickerItemStyle = _props.pickerItemStyle,\n          indicatorStyle = _props.indicatorStyle;\n      var value = this.state.value;\n      var childrenTree = (0, _arrayTreeFilter2['default'])(data, function (c, level) {\n        return c.value === value[level];\n      }).map(function (c) {\n        return c.children;\n      }); // in case the users data is async get when select change\n\n      var needPad = cols - childrenTree.length;\n\n      if (needPad > 0) {\n        for (var i = 0; i < needPad; i++) {\n          childrenTree.push([]);\n        }\n      }\n\n      childrenTree.length = cols - 1;\n      childrenTree.unshift(data);\n      return childrenTree.map(function () {\n        var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var level = arguments[1];\n        return _react2['default'].createElement(_Picker2['default'], {\n          key: level,\n          prefixCls: pickerPrefixCls,\n          style: {\n            flex: 1\n          },\n          disabled: disabled,\n          itemStyle: pickerItemStyle,\n          indicatorStyle: indicatorStyle\n        }, children.map(function (item) {\n          return _react2['default'].createElement(_Picker2['default'].Item, {\n            value: item.value,\n            key: item.value\n          }, item.label);\n        }));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var prefixCls = props.prefixCls,\n          className = props.className,\n          rootNativeProps = props.rootNativeProps,\n          style = props.style;\n      var cols = this.getCols();\n      var multiStyle = (0, _extends3['default'])({\n        flexDirection: 'row',\n        alignItems: 'center'\n      }, style);\n      return _react2['default'].createElement(_MultiPicker2['default'], {\n        style: multiStyle,\n        prefixCls: prefixCls,\n        className: className,\n        selectedValue: this.state.value,\n        rootNativeProps: rootNativeProps,\n        onValueChange: this.onValueChange,\n        onScrollChange: props.onScrollChange\n      }, cols);\n    }\n  }]);\n  return Cascader;\n}(_react2['default'].Component);\n\nCascader.defaultProps = {\n  cols: 3,\n  prefixCls: 'rmc-cascader',\n  pickerPrefixCls: 'rmc-picker',\n  data: [],\n  disabled: false\n};\nexports['default'] = Cascader;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["F:/百度云下载/React/hkzf/haokezufang/node_modules/rmc-cascader/lib/Cascader.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_arrayTreeFilter","_arrayTreeFilter2","_MultiPicker","_MultiPicker2","_Picker","_Picker2","obj","__esModule","Cascader","_React$Component","_this","__proto__","getPrototypeOf","apply","arguments","state","getValue","props","data","defaultValue","onValueChange","index","children","c","level","i","length","cols","setState","onChange","key","componentWillReceiveProps","nextProps","d","val","indexOf","undefined","getCols","_props","pickerPrefixCls","disabled","pickerItemStyle","indicatorStyle","childrenTree","map","needPad","push","unshift","createElement","prefixCls","style","flex","itemStyle","item","Item","label","render","className","rootNativeProps","multiStyle","flexDirection","alignItems","selectedValue","onScrollChange","Component","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _arrayTreeFilter = require('array-tree-filter');\n\nvar _arrayTreeFilter2 = _interopRequireDefault(_arrayTreeFilter);\n\nvar _MultiPicker = require('rmc-picker/lib/MultiPicker');\n\nvar _MultiPicker2 = _interopRequireDefault(_MultiPicker);\n\nvar _Picker = require('rmc-picker/lib/Picker');\n\nvar _Picker2 = _interopRequireDefault(_Picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar Cascader = function (_React$Component) {\n    (0, _inherits3['default'])(Cascader, _React$Component);\n\n    function Cascader() {\n        (0, _classCallCheck3['default'])(this, Cascader);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n        _this.state = {\n            value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n        };\n        _this.onValueChange = function (value, index) {\n            var children = (0, _arrayTreeFilter2['default'])(_this.props.data, function (c, level) {\n                return level <= index && c.value === value[level];\n            });\n            var data = children[index];\n            var i = void 0;\n            for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n                data = data.children[0];\n                value[i] = data.value;\n            }\n            value.length = i;\n            _this.setState({ value: value });\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(Cascader, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: this.getValue(nextProps.data, nextProps.value)\n                });\n            }\n        }\n    }, {\n        key: 'getValue',\n        value: function getValue(d, val) {\n            var data = d || this.props.data;\n            var value = val || this.props.value || this.props.defaultValue;\n            if (!value || !value.length || value.indexOf(undefined) > -1) {\n                value = [];\n                for (var i = 0; i < this.props.cols; i++) {\n                    if (data && data.length) {\n                        value[i] = data[0].value;\n                        data = data[0].children;\n                    }\n                }\n            }\n            return value;\n        }\n    }, {\n        key: 'getCols',\n        value: function getCols() {\n            var _props = this.props,\n                data = _props.data,\n                cols = _props.cols,\n                pickerPrefixCls = _props.pickerPrefixCls,\n                disabled = _props.disabled,\n                pickerItemStyle = _props.pickerItemStyle,\n                indicatorStyle = _props.indicatorStyle;\n\n            var value = this.state.value;\n            var childrenTree = (0, _arrayTreeFilter2['default'])(data, function (c, level) {\n                return c.value === value[level];\n            }).map(function (c) {\n                return c.children;\n            });\n            // in case the users data is async get when select change\n            var needPad = cols - childrenTree.length;\n            if (needPad > 0) {\n                for (var i = 0; i < needPad; i++) {\n                    childrenTree.push([]);\n                }\n            }\n            childrenTree.length = cols - 1;\n            childrenTree.unshift(data);\n            return childrenTree.map(function () {\n                var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var level = arguments[1];\n                return _react2['default'].createElement(_Picker2['default'], { key: level, prefixCls: pickerPrefixCls, style: { flex: 1 }, disabled: disabled, itemStyle: pickerItemStyle, indicatorStyle: indicatorStyle }, children.map(function (item) {\n                    return _react2['default'].createElement(_Picker2['default'].Item, { value: item.value, key: item.value }, item.label);\n                }));\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var props = this.props;\n            var prefixCls = props.prefixCls,\n                className = props.className,\n                rootNativeProps = props.rootNativeProps,\n                style = props.style;\n\n            var cols = this.getCols();\n            var multiStyle = (0, _extends3['default'])({ flexDirection: 'row', alignItems: 'center' }, style);\n            return _react2['default'].createElement(_MultiPicker2['default'], { style: multiStyle, prefixCls: prefixCls, className: className, selectedValue: this.state.value, rootNativeProps: rootNativeProps, onValueChange: this.onValueChange, onScrollChange: props.onScrollChange }, cols);\n        }\n    }]);\n    return Cascader;\n}(_react2['default'].Component);\n\nCascader.defaultProps = {\n    cols: 3,\n    prefixCls: 'rmc-cascader',\n    pickerPrefixCls: 'rmc-picker',\n    data: [],\n    disabled: false\n};\nexports['default'] = Cascader;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}