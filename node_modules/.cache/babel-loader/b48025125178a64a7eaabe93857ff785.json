{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _carousel = require('../carousel');\n\nvar _carousel2 = _interopRequireDefault(_carousel);\n\nvar _flex = require('../flex');\n\nvar _flex2 = _interopRequireDefault(_flex);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\n\nvar Grid = function (_React$Component) {\n  (0, _inherits3['default'])(Grid, _React$Component);\n\n  function Grid() {\n    (0, _classCallCheck3['default'])(this, Grid);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Grid.__proto__ || Object.getPrototypeOf(Grid)).apply(this, arguments));\n\n    _this.state = {\n      initialSlideWidth: 0\n    };\n\n    _this.renderCarousel = function (rowsArr, pageCount, rowCount) {\n      var prefixCls = _this.props.prefixCls;\n      var carouselMaxRow = _this.props.carouselMaxRow;\n      var pagesArr = [];\n\n      for (var pageIndex = 0; pageIndex < pageCount; pageIndex++) {\n        var pageRows = [];\n\n        for (var ii = 0; ii < carouselMaxRow; ii++) {\n          var rowIndex = pageIndex * carouselMaxRow + ii;\n\n          if (rowIndex < rowCount) {\n            pageRows.push(rowsArr[rowIndex]);\n          } else {\n            // 空节点为了确保末尾页的最后未到底的行有底线(样式中last-child会没线)\n            pageRows.push(React.createElement('div', {\n              key: 'gridline-' + rowIndex\n            }));\n          }\n        }\n\n        pagesArr.push(React.createElement('div', {\n          key: 'pageitem-' + pageIndex,\n          className: prefixCls + '-carousel-page'\n        }, pageRows));\n      }\n\n      return pagesArr;\n    };\n\n    _this.renderItem = function (dataItem, index, columnNum, renderItem) {\n      var prefixCls = _this.props.prefixCls;\n      var itemEl = null;\n\n      if (renderItem) {\n        itemEl = renderItem(dataItem, index);\n      } else {\n        if (dataItem) {\n          var icon = dataItem.icon,\n              text = dataItem.text;\n          itemEl = React.createElement('div', {\n            className: prefixCls + '-item-inner-content column-num-' + columnNum\n          }, React.isValidElement(icon) ? icon : React.createElement('img', {\n            className: prefixCls + '-icon',\n            src: icon\n          }), React.createElement('div', {\n            className: prefixCls + '-text'\n          }, text));\n        }\n      }\n\n      return React.createElement('div', {\n        className: prefixCls + '-item-content'\n      }, itemEl);\n    };\n\n    _this.getRows = function (rowCount, dataLength) {\n      // tslint:disable:prefer-const\n      var _this$props = _this.props,\n          columnNum = _this$props.columnNum,\n          data = _this$props.data,\n          renderItem = _this$props.renderItem,\n          prefixCls = _this$props.prefixCls,\n          _onClick = _this$props.onClick,\n          activeStyle = _this$props.activeStyle,\n          activeClassName = _this$props.activeClassName,\n          itemStyle = _this$props.itemStyle;\n      var rowsArr = [];\n      columnNum = columnNum;\n      var rowWidth = 100 / columnNum + '%';\n      var colStyle = (0, _extends3['default'])({\n        width: rowWidth\n      }, itemStyle);\n\n      for (var i = 0; i < rowCount; i++) {\n        var rowArr = [];\n\n        var _loop = function _loop(j) {\n          var dataIndex = i * columnNum + j;\n          var itemEl = void 0;\n\n          if (dataIndex < dataLength) {\n            var el = data && data[dataIndex];\n            itemEl = React.createElement(_rmcFeedback2['default'], {\n              key: 'griditem-' + dataIndex,\n              activeClassName: activeClassName ? activeClassName : prefixCls + '-item-active',\n              activeStyle: activeStyle\n            }, React.createElement(_flex2['default'].Item, {\n              className: prefixCls + '-item',\n              onClick: function onClick() {\n                return _onClick && _onClick(el, dataIndex);\n              },\n              style: colStyle\n            }, _this.renderItem(el, dataIndex, columnNum, renderItem)));\n          } else {\n            itemEl = React.createElement(_flex2['default'].Item, {\n              key: 'griditem-' + dataIndex,\n              className: prefixCls + '-item ' + prefixCls + '-null-item',\n              style: colStyle\n            });\n          }\n\n          rowArr.push(itemEl);\n        };\n\n        for (var j = 0; j < columnNum; j++) {\n          _loop(j);\n        }\n\n        rowsArr.push(React.createElement(_flex2['default'], {\n          justify: 'center',\n          align: 'stretch',\n          key: 'gridline-' + i\n        }, rowArr));\n      }\n\n      return rowsArr;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Grid, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setState({\n        initialSlideWidth: document.documentElement.clientWidth\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          className = _a.className,\n          data = _a.data,\n          hasLine = _a.hasLine,\n          isCarousel = _a.isCarousel,\n          square = _a.square,\n          activeStyle = _a.activeStyle,\n          activeClassName = _a.activeClassName,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"data\", \"hasLine\", \"isCarousel\", \"square\", \"activeStyle\", \"activeClassName\"]);\n\n      var columnNum = restProps.columnNum,\n          carouselMaxRow = restProps.carouselMaxRow,\n          onClick = restProps.onClick,\n          renderItem = restProps.renderItem,\n          restPropsForCarousel = __rest(restProps, [\"columnNum\", \"carouselMaxRow\", \"onClick\", \"renderItem\"]);\n\n      var initialSlideWidth = this.state.initialSlideWidth;\n      columnNum = columnNum;\n      carouselMaxRow = carouselMaxRow;\n      var dataLength = data && data.length || 0;\n      var rowCount = Math.ceil(dataLength / columnNum);\n      var rowsArr = void 0;\n      var renderEl = void 0;\n\n      if (isCarousel) {\n        if (initialSlideWidth < 0) {\n          // carousel  server render. because carousel dependes on document\n          return null;\n        }\n\n        if (rowCount % carouselMaxRow !== 0) {\n          rowCount = rowCount + carouselMaxRow - rowCount % carouselMaxRow;\n        }\n\n        var pageCount = Math.ceil(rowCount / carouselMaxRow);\n        rowsArr = this.getRows(rowCount, dataLength);\n        var carouselProps = {};\n\n        if (pageCount <= 1) {\n          carouselProps = {\n            dots: false,\n            dragging: false,\n            swiping: false\n          };\n        }\n\n        renderEl = React.createElement(_carousel2['default'], (0, _extends3['default'])({\n          initialSlideWidth: initialSlideWidth\n        }, restPropsForCarousel, carouselProps), this.renderCarousel(rowsArr, pageCount, rowCount));\n      } else {\n        rowsArr = this.getRows(rowCount, dataLength);\n        renderEl = rowsArr;\n      }\n\n      var cls = (0, _classnames3['default'])(prefixCls, className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-square', square), (0, _defineProperty3['default'])(_classnames, prefixCls + '-line', hasLine), (0, _defineProperty3['default'])(_classnames, prefixCls + '-carousel', isCarousel), _classnames));\n      return React.createElement('div', {\n        className: cls\n      }, renderEl);\n    }\n  }]);\n  return Grid;\n}(React.Component);\n\nexports['default'] = Grid;\nGrid.defaultProps = {\n  data: [],\n  hasLine: true,\n  isCarousel: false,\n  columnNum: 4,\n  carouselMaxRow: 2,\n  prefixCls: 'am-grid',\n  square: true,\n  itemStyle: {}\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["F:/百度云下载/React/hkzf/haokezufang/node_modules/antd-mobile/lib/grid/index.js"],"names":["Object","defineProperty","exports","value","_defineProperty2","require","_defineProperty3","_interopRequireDefault","_extends2","_extends3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_classnames2","_classnames3","_react","React","_interopRequireWildcard","_rmcFeedback","_rmcFeedback2","_carousel","_carousel2","_flex","_flex2","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","__rest","undefined","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","Grid","_React$Component","_this","__proto__","getPrototypeOf","apply","arguments","state","initialSlideWidth","renderCarousel","rowsArr","pageCount","rowCount","prefixCls","props","carouselMaxRow","pagesArr","pageIndex","pageRows","ii","rowIndex","push","createElement","className","renderItem","dataItem","index","columnNum","itemEl","icon","text","isValidElement","src","getRows","dataLength","_this$props","data","_onClick","onClick","activeStyle","activeClassName","itemStyle","rowWidth","colStyle","width","rowArr","_loop","j","dataIndex","el","Item","style","justify","align","componentDidMount","setState","document","documentElement","clientWidth","render","_classnames","_a","hasLine","isCarousel","square","restProps","restPropsForCarousel","Math","ceil","renderEl","carouselProps","dots","dragging","swiping","cls","Component","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _carousel = require('../carousel');\n\nvar _carousel2 = _interopRequireDefault(_carousel);\n\nvar _flex = require('../flex');\n\nvar _flex2 = _interopRequireDefault(_flex);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\nvar Grid = function (_React$Component) {\n    (0, _inherits3['default'])(Grid, _React$Component);\n\n    function Grid() {\n        (0, _classCallCheck3['default'])(this, Grid);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (Grid.__proto__ || Object.getPrototypeOf(Grid)).apply(this, arguments));\n\n        _this.state = {\n            initialSlideWidth: 0\n        };\n        _this.renderCarousel = function (rowsArr, pageCount, rowCount) {\n            var prefixCls = _this.props.prefixCls;\n\n            var carouselMaxRow = _this.props.carouselMaxRow;\n            var pagesArr = [];\n            for (var pageIndex = 0; pageIndex < pageCount; pageIndex++) {\n                var pageRows = [];\n                for (var ii = 0; ii < carouselMaxRow; ii++) {\n                    var rowIndex = pageIndex * carouselMaxRow + ii;\n                    if (rowIndex < rowCount) {\n                        pageRows.push(rowsArr[rowIndex]);\n                    } else {\n                        // 空节点为了确保末尾页的最后未到底的行有底线(样式中last-child会没线)\n                        pageRows.push(React.createElement('div', { key: 'gridline-' + rowIndex }));\n                    }\n                }\n                pagesArr.push(React.createElement(\n                    'div',\n                    { key: 'pageitem-' + pageIndex, className: prefixCls + '-carousel-page' },\n                    pageRows\n                ));\n            }\n            return pagesArr;\n        };\n        _this.renderItem = function (dataItem, index, columnNum, renderItem) {\n            var prefixCls = _this.props.prefixCls;\n\n            var itemEl = null;\n            if (renderItem) {\n                itemEl = renderItem(dataItem, index);\n            } else {\n                if (dataItem) {\n                    var icon = dataItem.icon,\n                        text = dataItem.text;\n\n                    itemEl = React.createElement(\n                        'div',\n                        { className: prefixCls + '-item-inner-content column-num-' + columnNum },\n                        React.isValidElement(icon) ? icon : React.createElement('img', { className: prefixCls + '-icon', src: icon }),\n                        React.createElement(\n                            'div',\n                            { className: prefixCls + '-text' },\n                            text\n                        )\n                    );\n                }\n            }\n            return React.createElement(\n                'div',\n                { className: prefixCls + '-item-content' },\n                itemEl\n            );\n        };\n        _this.getRows = function (rowCount, dataLength) {\n            // tslint:disable:prefer-const\n            var _this$props = _this.props,\n                columnNum = _this$props.columnNum,\n                data = _this$props.data,\n                renderItem = _this$props.renderItem,\n                prefixCls = _this$props.prefixCls,\n                _onClick = _this$props.onClick,\n                activeStyle = _this$props.activeStyle,\n                activeClassName = _this$props.activeClassName,\n                itemStyle = _this$props.itemStyle;\n\n            var rowsArr = [];\n            columnNum = columnNum;\n            var rowWidth = 100 / columnNum + '%';\n            var colStyle = (0, _extends3['default'])({ width: rowWidth }, itemStyle);\n            for (var i = 0; i < rowCount; i++) {\n                var rowArr = [];\n\n                var _loop = function _loop(j) {\n                    var dataIndex = i * columnNum + j;\n                    var itemEl = void 0;\n                    if (dataIndex < dataLength) {\n                        var el = data && data[dataIndex];\n                        itemEl = React.createElement(\n                            _rmcFeedback2['default'],\n                            { key: 'griditem-' + dataIndex, activeClassName: activeClassName ? activeClassName : prefixCls + '-item-active', activeStyle: activeStyle },\n                            React.createElement(\n                                _flex2['default'].Item,\n                                { className: prefixCls + '-item', onClick: function onClick() {\n                                        return _onClick && _onClick(el, dataIndex);\n                                    }, style: colStyle },\n                                _this.renderItem(el, dataIndex, columnNum, renderItem)\n                            )\n                        );\n                    } else {\n                        itemEl = React.createElement(_flex2['default'].Item, { key: 'griditem-' + dataIndex, className: prefixCls + '-item ' + prefixCls + '-null-item', style: colStyle });\n                    }\n                    rowArr.push(itemEl);\n                };\n\n                for (var j = 0; j < columnNum; j++) {\n                    _loop(j);\n                }\n                rowsArr.push(React.createElement(\n                    _flex2['default'],\n                    { justify: 'center', align: 'stretch', key: 'gridline-' + i },\n                    rowArr\n                ));\n            }\n            return rowsArr;\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(Grid, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.setState({\n                initialSlideWidth: document.documentElement.clientWidth\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classnames;\n\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                data = _a.data,\n                hasLine = _a.hasLine,\n                isCarousel = _a.isCarousel,\n                square = _a.square,\n                activeStyle = _a.activeStyle,\n                activeClassName = _a.activeClassName,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"data\", \"hasLine\", \"isCarousel\", \"square\", \"activeStyle\", \"activeClassName\"]);\n            var columnNum = restProps.columnNum,\n                carouselMaxRow = restProps.carouselMaxRow,\n                onClick = restProps.onClick,\n                renderItem = restProps.renderItem,\n                restPropsForCarousel = __rest(restProps, [\"columnNum\", \"carouselMaxRow\", \"onClick\", \"renderItem\"]);\n\n            var initialSlideWidth = this.state.initialSlideWidth;\n\n            columnNum = columnNum;\n            carouselMaxRow = carouselMaxRow;\n            var dataLength = data && data.length || 0;\n            var rowCount = Math.ceil(dataLength / columnNum);\n            var rowsArr = void 0;\n            var renderEl = void 0;\n            if (isCarousel) {\n                if (initialSlideWidth < 0) {\n                    // carousel  server render. because carousel dependes on document\n                    return null;\n                }\n                if (rowCount % carouselMaxRow !== 0) {\n                    rowCount = rowCount + carouselMaxRow - rowCount % carouselMaxRow;\n                }\n                var pageCount = Math.ceil(rowCount / carouselMaxRow);\n                rowsArr = this.getRows(rowCount, dataLength);\n                var carouselProps = {};\n                if (pageCount <= 1) {\n                    carouselProps = {\n                        dots: false,\n                        dragging: false,\n                        swiping: false\n                    };\n                }\n                renderEl = React.createElement(\n                    _carousel2['default'],\n                    (0, _extends3['default'])({ initialSlideWidth: initialSlideWidth }, restPropsForCarousel, carouselProps),\n                    this.renderCarousel(rowsArr, pageCount, rowCount)\n                );\n            } else {\n                rowsArr = this.getRows(rowCount, dataLength);\n                renderEl = rowsArr;\n            }\n            var cls = (0, _classnames3['default'])(prefixCls, className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-square', square), (0, _defineProperty3['default'])(_classnames, prefixCls + '-line', hasLine), (0, _defineProperty3['default'])(_classnames, prefixCls + '-carousel', isCarousel), _classnames));\n            return React.createElement(\n                'div',\n                { className: cls },\n                renderEl\n            );\n        }\n    }]);\n    return Grid;\n}(React.Component);\n\nexports['default'] = Grid;\n\nGrid.defaultProps = {\n    data: [],\n    hasLine: true,\n    isCarousel: false,\n    columnNum: 4,\n    carouselMaxRow: 2,\n    prefixCls: 'am-grid',\n    square: true,\n    itemStyle: {}\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}